<div class="flex w-full flex-auto flex-col">
  <div class="mx-auto flex w-full max-w-screen-xl flex-wrap p-1 shadow-md">
    <div class="card-header" style="text-align: center !important;">
      Invoice Data Visualization
    </div>

    <div class="card">
      <div class="rounded">
      <div class="left-side rounded">
          <div class="leftWidth total-records  bg-gradient-to-r from-purple-500 to-blue-500 flex flex-col justify-center items-center p-6 rounded-l-lg leftWith">
              <div class="flex items-center">
                  <i class="fas fa-database text-xl mr-2"></i>
                  <h3 class="font-semibold">Total Records</h3>
              </div>
              <p class="font-bold text-2xl">{{ totalInvoiceCount }}</p>
          </div>
          <div class="middlewidth flex flex-col">
              <div class="total-Approved bg-gradient-to-r from-orange-400 to-red-500 flex flex-col justify-center items-center ">
                  <div class="flex items-center">
                      <i class="fas fa-check-circle text-xl mr-2"></i>
                      <h3 class="font-semibold">Approved</h3>
                  </div>
                  <p class="font-bold">{{ approvedCount }}</p>
              </div>
              <div class="total-rejected bg-gradient-to-r from-green-400 to-teal-500 flex flex-col justify-center items-center ">
                  <div class="flex items-center">
                      <i class="fas fa-times-circle text-xl mr-2"></i>
                      <h3 class="font-semibold">Rejected</h3>
                  </div>
                  <p class="font-bold">{{ rejectedCount }}</p>
              </div>
              
          </div>
          <div class="rightwidth flex flex-col">
            <div class="total-Pending bg-gradient-to-r from-pink-500 to-purple-600 flex flex-col justify-center items-center  rounded-br-lg">
              <div class="flex items-center">
                  <i class="fas fa-hourglass-half text-xl mr-2"></i>
                  <h3 class="font-semibold">Pending</h3>
              </div>
              <p class="font-bold">{{ pendingCount }}</p>
          </div>
          <div class="total-rejected-reversed bg-gradient-to-r from-pink-500 to-purple-600 flex flex-col justify-center items-center  rounded-br-lg">
              <div class="flex items-center">
                  <i class="fas fa-undo-alt text-xl mr-2"></i>
                  <h3 class="font-semibold">Rejected Reversed</h3>
              </div>
              <p class="font-bold">{{ rejectedReversedCount }}</p>
          </div>
          </div>
          <div class="rightwidth flex flex-col">
            <div class="total-overdue bg-gradient-to-r from-yellow-500 to-orange-600 flex flex-col justify-center items-center rounded-br-lg">
              <div class="flex items-center">
                  <i class="fas fa-undo-alt text-xl mr-2"></i> 
                  <h3 class="font-semibold">Overdue</h3>
              </div>
              <p class="font-bold">{{ overdueCount }}</p>
            </div>
          </div>
      </div>
  </div>


    </div>

    <div class="row" id="barChart" style="margin-top: 30px;" style="margin-top: 10px;border: 2px solid darkviolet !important;margin-right: 0px !important;
            margin-left: 0px !important;">
      <div class="col-md-6 col-lg-6" id="leftBar">
        <apx-chart [series]="barChartOptions.series" [chart]="barChartOptions.chart" [xaxis]="barChartOptions.xaxis"
          [yaxis]="barChartOptions.yaxis" [plotOptions]="barChartOptions.plotOptions" [colors]="barChartOptions.colors">
        </apx-chart>
      </div>
     
      <div *ngIf="pieChartOptions.series?.length > 0" class="col-md-6 col-lg-6" id="rightBar">
        <apx-chart [options]="pieChartOptions" [series]="pieChartOptions.series" [chart]="pieChartOptions.chart"
          [labels]="pieChartOptions.labels" [colors]="pieChartOptions.colors">
        </apx-chart>
      </div>
    </div>
    <div class="row" style="margin-top: 30px;">
      <!-- Bar Chart -->
      <div>
        <apx-chart 
          [series]="customerChartOptions.series" 
          [chart]="customerChartOptions.chart" 
          [labels]="customerChartOptions.labels"
          [responsive]="customerChartOptions.responsive">
        </apx-chart>
      </div>
      
    

    </div>
    
    
    </div>




  <!-- Invoice List Table -->
  <div class="tableFixHeadR">
    <table class="table table-bordered table-stripped">
      <thead class="thead-light">
        <tr>
          <th class="text-nowrap">Invoice Number</th>
          <th class="text-nowrap">Invoice Date</th>
          <th class="text-nowrap">Customer Name</th>
          <th class="text-nowrap">Type Of Aircraft</th>
          <th class="text-nowrap">City</th>
          <th class="text-nowrap">Destination</th>
          <th class="text-nowrap">Date Of Journey</th>
          <th class="text-nowrap">Total Amount</th>
          <th class="text-nowrap">Status</th>
        </tr>
      </thead>
      <tbody>
        <!-- (click)="invoice.status === 'Approved' ? openInvoicePopup(invoice) : null" -->
        <tr *ngFor="let invoice of filteredInvoiceList" 
        
        
        >
      
      <td>{{ invoice.invoiceUniqueNumber }}</td>
      <td>{{ invoice.header.ProformaInvoiceDate }}</td>
      <td>{{ invoice.header.ProformaCustomerName }}</td>
      <td>{{ invoice.header.ProformaTypeOfAircraft }}</td>
      <td>{{ invoice.header.ProformaCity }}</td>
      <td>{{ invoice.header.BookingSector }}</td>
      <td>{{ invoice.header.BookingDateOfJourny }}</td>
      <td>{{ invoice.grandTotal | number: '1.2-2' }}</td>
      <td [ngClass]="{
        'approved': invoice.status === 'Approved',
        'pending': invoice.status === 'Pending',
        'rejected': invoice.status === 'Rejected',
        'rejected_Reversed': invoice.status === 'Rejected_Reversed'
      }">{{ invoice.status }}</td>
    
    </tr>
    

      </tbody>
    </table>
    <!-- <button printSectionId="invoice-content" ngxPrint>Print Invoice</button> -->
  </div>
</div>



<!-- <button (click)="showSpinner()">Show Spinner</button> -->
